/* ============  Tema New Hydra (mobile-first) com motion  ============ */
:root{
  --brand-start:#49D2E7;
  --brand-mid:#5B8BFF;
  --brand-end:#7A4DFF;
  --bg:#F6F8FB;
  --card:#FFFFFF;
  --text:#0F172A;
  --muted:#64748B;
  --border:#E5E7EB;

  --radius:16px;
  --shadow:0 6px 24px rgba(16,24,40,.06);

  --brand-gradient: linear-gradient(135deg,var(--brand-start),var(--brand-mid) 45%,var(--brand-end));

  --ease: cubic-bezier(.22,.61,.36,1);
  --dur-fast: 120ms;
  --dur: 220ms;
  --dur-slow: 380ms;
}

*{ box-sizing:border-box; }
html,body,#root{ height:100%; }
body{ margin:0; font-family: ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial; background:var(--bg); color:var(--text); }

.app{ min-height:100%; display:flex; flex-direction:column; }

.header{ position:sticky; top:0; z-index:20; background:var(--card); border-bottom:1px solid var(--border); }
.header-inner{ display:flex; align-items:center; gap:12px; padding:10px 14px; }
.brand-badge{ width:36px; height:36px; border-radius:999px; background:var(--brand-gradient); display:grid; place-items:center; color:#fff; font-weight:800; font-size:12px; box-shadow:var(--shadow); transform:translateZ(0); }
.header-title{ font-weight:800; line-height:1.1; font-size:18px; }
.header-sub{ color:var(--muted); font-size:12px; }

.main{ flex:1; padding:12px 14px 88px; }

.page-bottom-safe::after{
  content:"";
  display:block;
  height:96px;
}

.muted{ color:var(--muted); }

.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:14px;
  transition: box-shadow var(--dur) var(--ease), transform var(--dur) var(--ease);
  will-change: transform;
  position: relative;        /* NOVO: popovers ficam sobre o card */
  overflow: visible;         /* NOVO: deixa o popover “sair” do card */
}
.card:hover{ transform:translateY(-1px); box-shadow:0 8px 28px rgba(16,24,40,.08); }

.row{ display:flex; gap:12px; flex-wrap:wrap; align-items:center; }
.stack{ display:grid; gap:12px; }

/* --- Botões / Inputs --- */
.btn{ border:1px solid var(--border); background:#fff; color:var(--text); padding:10px 14px; border-radius:14px; cursor:pointer;
  transition: transform var(--dur-fast) var(--ease), box-shadow var(--dur-fast) var(--ease), background var(--dur-fast) var(--ease), opacity var(--dur-fast) var(--ease);
  will-change: transform, box-shadow, opacity;
}
.btn:hover{ transform:translateY(-1px); box-shadow:0 6px 18px rgba(16,24,40,.06); }
.btn:active{ transform:translateY(0); }
.btn.primary{ background:var(--brand-gradient); color:#fff; border-color:transparent; }
.btn.ghost{ background:transparent; border-color:transparent; color:var(--muted); }
.btn.saving{ opacity:.8; pointer-events:none; position:relative; }
.btn.saving::after{
  content:""; width:16px; height:16px; border-radius:50%;
  border:2px solid rgba(255,255,255,.6); border-top-color:#fff;
  position:absolute; right:10px; top:50%; transform:translateY(-50%);
  animation: spin 800ms linear infinite;
}

.input{ width:100%; padding:10px 12px; border:1px solid var(--border); border-radius:12px; background:#fff; color:#0F172A;
  transition: box-shadow var(--dur-fast) var(--ease), border-color var(--dur-fast) var(--ease);
}
.input:focus{ outline:none; border-color:#BBD2FF; box-shadow:0 0 0 3px rgba(91,139,255,.15); }

/* --- Badges/KPIs --- */
.badge{ display:inline-block; font-size:12px; padding:4px 10px; border-radius:999px; border:1px solid var(--border); background:#F1F5F9; color:#0F172A; }
.badge.confirmed{ background:#E9FFF7; color:#065F46; border-color:#B7F5E2; }
.badge.pending{ background:#FFF2D7; color:#92400E; border-color:#F4D5A5; }
.badge.done{ background:#EAF7FF; color:#1E40AF; border-color:#CFE7FF; }
.badge.overdue{ background:#FFE4E6; color:#7F1D1D; border-color:#FBCFD3; }

.kpi{ background:var(--card); border:1px solid var(--border); border-radius:var(--radius); padding:14px; min-width:150px; flex:1;
  transition: transform var(--dur) var(--ease), box-shadow var(--dur) var(--ease);
}
.kpi:hover{ transform:translateY(-1px); box-shadow:0 8px 28px rgba(16,24,40,.08); }
.kpi .label{ color:var(--muted); font-size:12px; }
.kpi .value{ font-weight:800; font-size:22px; margin-top:2px; }

/* --- Listas / Tabelas --- */
.item{ display:grid; gap:6px; }
.item-head{ display:flex; align-items:center; justify-content:space-between; gap:8px; }
.item-actions{ display:flex; gap:8px; }

.table{ display:none; }
.table-card{ display:grid; gap:12px; }
.table-row{ display:flex; justify-content:space-between; gap:12px; border-top:1px solid var(--border); padding-top:8px; }

/* --- Tab bar --- */
.tabbar{ position:fixed; bottom:12px; left:12px; right:12px; z-index:140; background:#fff; border:1px solid var(--border); border-radius:18px; display:flex; justify-content:space-between; padding:8px; box-shadow:var(--shadow); }
.tab-btn{ flex:1; display:flex; align-items:center; justify-content:center; gap:6px; padding:10px 6px; border-radius:12px; border:none; background:transparent; color:var(--muted); font-weight:600;
  transition: background var(--dur-fast) var(--ease), color var(--dur-fast) var(--ease), transform var(--dur-fast) var(--ease);
  
}
.tab-btn:hover{ transform:translateY(-1px); }
.tab-btn.active{ color:#fff; background:var(--brand-gradient); }

/* --- Toast --- */
.toast-wrap{ position:fixed; left:12px; right:12px; bottom:80px; z-index:60; display:grid; gap:10px; }
.toast{ background:#111827; color:#fff; border-radius:14px; padding:12px 14px; box-shadow:0 10px 30px rgba(17,24,39,.3);
  animation: slide-up var(--dur) var(--ease), fade-in var(--dur) var(--ease); }
.toast.success{ background:#065F46; }
.toast.error{ background:#7F1D1D; }

/* --- Modal --- */
.modal-backdrop{ position:fixed; inset:0; background:rgba(2,6,23,.45); z-index:300;
  animation: fade-in var(--dur) var(--ease); }
.modal-panel{ position:fixed; inset:auto 16px 90px 16px; z-index:301; background:#fff; border:1px solid var(--border); border-radius:18px; box-shadow:var(--shadow);
  padding:16px; max-width:720px; margin:0 auto; animation: scale-in var(--dur) var(--ease); }

/* --- NOVO: toolbar, chips e popover (para Financeiro) --- */
.toolbar{ display:flex; flex-wrap:wrap; gap:12px; align-items:center; justify-content:space-between; }
.toolbar-start{ display:flex; flex-direction:column; gap:4px; }
.pill{ display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border:1px solid var(--border); border-radius:999px; background:#fff; }
.pill .hint{ color:var(--muted); font-size:12px; }
.pill-group{ display:flex; flex-wrap:wrap; gap:8px; align-items:center; }

.popover{ position:relative; z-index: 201; }      /* NOVO */
.popover-panel{
  position:absolute;
  right:0; top:calc(100% + 8px);
  width:240px; z-index: 200;                      /* Aumentado */
  background:#fff; border:1px solid var(--border);
  border-radius:14px; box-shadow:var(--shadow);
  padding:10px; animation: fade-in var(--dur) var(--ease), slide-up var(--dur) var(--ease);
}

/* --- Motion helpers --- */
.fade-in{ animation: fade-in var(--dur) var(--ease); }
.slide-up{ animation: slide-up var(--dur) var(--ease); }
.scale-in{ animation: scale-in var(--dur) var(--ease); }
.ripple{ position:relative; overflow:hidden; }
.ripple:after{
  content:""; position:absolute; inset:auto; left:50%; top:50%; width:0; height:0; background:rgba(255,255,255,.35); border-radius:999px;
  transform:translate(-50%,-50%); opacity:0; pointer-events:none;
}
.ripple:active:after{ animation:ripple .5s linear; }

/* --- Keyframes --- */
@keyframes fade-in{ from{ opacity:0 } to{ opacity:1 } }
@keyframes slide-up{ from{ transform:translateY(8px); opacity:0 } to{ transform:translateY(0); opacity:1 } }
@keyframes scale-in{ from{ transform:scale(.97); opacity:0 } to{ transform:scale(1); opacity:1 } }
@keyframes spin{ to{ transform:rotate(360deg) } }
@keyframes ripple{ 0%{ width:0; height:0; opacity:.6 } 100%{ width:220%; height:220%; opacity:0 } }

/* Acessibilidade */
@media (prefers-reduced-motion: reduce){
  *{ animation:none !important; transition:none !important; }
}
/* Container do cabeçalho */
.header {
  background: var(--surface);
  border-bottom: 1px solid var(--border);
  padding: 8px 16px;
}

.header-inner {
  display: flex;
  align-items: center;
  gap: 12px;
}

/* Logo da empresa no lugar da sigla CHRIS */
.brand-logo {
  height: 70px;
  width: auto;
  object-fit: contain;
  border-radius: 8px;
  user-select: none;
  transition: transform 0.25s ease, filter 0.25s ease;
}

.brand-logo:hover {
  transform: scale(1.05);
  filter: brightness(1.1);
}

/* Títulos */
.header-title {
  font-size: 18px;
  font-weight: 700;
  color: var(--text-strong);
}

.header-sub {
  font-size: 13px;
  color: var(--text-muted);
}

/* Responsivo (reduz o logo no mobile) */
@media (max-width: 600px) {
  .brand-logo {
    height: 60px;
  }
  .header-title {
    font-size: 16px;
  }
  .header-sub {
    font-size: 12px;
  }
}
/* ===== Swipe views ===== */
.views-track{
  display:flex;
  will-change: transform;
  transform: translateX(0);
}
.view{
  width:100vw; flex:0 0 100vw; padding-right:0; /* cada view ocupa a largura toda */
}

/* ===== Popover global (já com z-index alto) ===== */
.popover-fixed{
  position: fixed;
  z-index: 1000;
  background: #fff;
  border: 1px solid var(--border);
  border-radius: 14px;
  box-shadow: var(--shadow);
  padding: 10px;
  animation: fade-in var(--dur) var(--ease), slide-up var(--dur) var(--ease);
}
.popover-backdrop{
  position: fixed; inset: 0;
  background: transparent;
  z-index: 999;
}

/* Tabbar acima do conteúdo, abaixo de popovers/modais */
.tabbar{ z-index:140; }
.modal-backdrop{ z-index:300; }
.modal-panel{ z-index:301; }

html, body {
  width: 100%;
  max-width: 100%;
  overflow-x: auto;   /* deixa rolar se realmente for maior que a tela */
}

/* o track do swipe ocupa n telas, mas não deve criar overflow visual */
.views-track { will-change: transform; }
.view { width: 100vw; max-width: 100vw; }

/* header e logo não devem esticar a largura */
.header-inner { min-width: 0; }
.brand-logo { max-width: 45vw; height: 34px; }

/* margem inferior para não encostar na tabbar no mobile */
.main { padding-bottom: 96px; }

/* Ajuste de linhas no MOBILE para não cortar conteúdo à direita */
@media (max-width: 680px) {
  .table-row {
    flex-wrap: wrap;              /* permite quebrar para a linha de baixo */
    row-gap: 6px;
  }

  .table-row > * {
    max-width: 100%;
  }

  /* Linhas de ações (tipo baixar PDF / WhatsApp / remover) */
  .table-row .btn {
    flex: 0 0 auto;
  }

  /* Linhas em geral (inclui algumas .row que usei nas telas novas) */
  .row {
    flex-wrap: wrap;
    row-gap: 6px;
  }

  .row > .input {
    flex: 1 1 100%;
    max-width: 100%;
  }
}
